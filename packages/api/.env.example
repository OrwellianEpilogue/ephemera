# Ephemera API Environment Variables
# ==================================
# Most settings are now configured via the web UI setup wizard and stored in the database.
# Only infrastructure-level settings need to be configured here.

# ============================================================================
# INFRASTRUCTURE SETTINGS (Required - configured via environment variables)
# ============================================================================

# Server Configuration
PORT=8286
HOST=0.0.0.0

# API Base Path
# Configurable base path for all API endpoints (default: /api)
# Useful when hosting behind a proxy or at a subpath
# Examples: /api, /api/v1, /ephemera/api
API_BASE_PATH=/api

# HTML Base HREF (optional)
# Sets the <base href="..."> tag in the HTML for correct relative path resolution
# Useful when embedding in an iframe or hosting at a subpath
# Must end with a trailing slash
# Example: If hosting at https://example.com/ephemera/, set HTML_BASE_HREF=/ephemera/
# Leave empty to disable (default)
HTML_BASE_HREF=

# Database Path
# Docker: /app/data/database.db
# Local: ./data/database.db
DB_PATH=./data/database.db

# FlareSolverr Configuration (required for slow download fallback)
# Docker: http://flaresolverr:8191
# Local: http://localhost:8191
FLARESOLVERR_URL=http://localhost:8191

# ============================================================================
# DEPRECATED SETTINGS (Now configured via web UI - will be ignored if set)
# ============================================================================
# The following settings have been moved to the database and are configured
# through the web UI setup wizard or settings pages. Setting them here will
# have no effect.
#
# Application will use database values or prompt for configuration via web UI.

# Archive Configuration (DEPRECATED - configure in setup wizard)
# AA_BASE_URL=yourarchiveurl.org
# AA_API_KEY=your_secret_key_here
# LG_BASE_URL=

# Folder Paths (DEPRECATED - configure in setup wizard)
# DOWNLOAD_FOLDER=./downloads
# INGEST_FOLDER=/path/to/final/books

# Download Settings (DEPRECATED - configure in settings page)
# MAX_CONCURRENT_DOWNLOADS=1
# RETRY_ATTEMPTS=3
# REQUEST_TIMEOUT=30000
# SEARCH_CACHE_TTL=300

# Booklore Integration (DEPRECATED - configure in settings page)
# Use Settings â†’ Booklore in the web UI to configure Booklore integration

# ============================================================================
# AUTHENTICATION SETTINGS (Optional)
# ============================================================================

# Better Auth Base URL (optional, auto-detected in most cases)
# BASE_URL=http://localhost:8286

# Better Auth Secret (optional, auto-generated if not set)
# BETTER_AUTH_SECRET=your-secret-here

# ============================================================================
# DEVELOPMENT SETTINGS (Optional)
# ============================================================================

# Node Environment
# NODE_ENV=production

# ============================================================================
# MIGRATION NOTES
# ============================================================================
# If you're upgrading from v1.x:
# 1. Your existing environment variables will be automatically migrated to the database
# 2. You can remove deprecated variables from your .env file after the first successful startup
# 3. Backup your data before upgrading
# 4. See MIGRATION_V2.md for detailed upgrade instructions
